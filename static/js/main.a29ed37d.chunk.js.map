{"version":3,"sources":["assets/slap.png","Header.js","pages/Readme.js","assets/slap2.png","assets/slap3.png","pages/Home.js","useWebcamCapture.js","App.js","reportWebVitals.js","index.js","theme.js"],"names":["useStyles","createUseStyles","theme","Header","cursor","fontSize","Logo","display","alignItems","width","height","Link","color","palette","textSecondary","text","LinkActive","Navigation","flexWrap","justifyContent","listStyleType","margin","fontWeight","routes","name","to","props","classes","location","useLocation","className","alt","src","slap","map","route","pathname","Readme","Step","Slapper","background","secondary","borderRadius","Stickers","marginLeft","StickerButton","backgroundColor","StickerButtonActive","Gallery","Pictures","Picture","position","overflow","marginBottom","textAlign","stickers","slap2","slap3","url","img","document","createElement","Home","useState","activeSticker","setActiveSticker","title","setTitle","stickerImg","videoRef","setVideoRef","canvasRef","setCanvasRef","pictures","setPictures","onVideoRef","useCallback","node","onCanvasRef","initialized","setInitialized","useEffect","navigator","mediaDevices","getUserMedia","video","min","ideal","max","audio","then","stream","srcObject","play","catch","err","console","log","addEventListener","onCanPlay","ev","videoWidth","videoHeight","setAttribute","removeEventListener","mousePos","useRef","x","y","startRenderLoop","requestAnimationFrame","renderFrame","ctx","getContext","getAttribute","drawImage","bb","getBoundingClientRect","current","left","top","onMouseMove","clientX","clientY","data","toDataURL","dataUri","useWebcamCapture","handleVideoRef","handleCanvasRef","handleCapture","type","value","onChange","target","sticker","onClick","ref","picture","i","uri","link","download","href","body","appendChild","click","removeChild","downloadURI","boxSizing","fontFamily","textDecoration","App","padding","primary","maxWidth","minHeight","boxShadow","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a29ed37d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/slap.5f0cd602.png\";","import { createUseStyles } from \"react-jss\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport slap from \"./assets/slap.png\";\n\nconst useStyles = createUseStyles((theme) => ({\n  Header: {\n    \"& h1\": {\n      cursor: \"pointer\",\n      fontSize: \"4rem\",\n    },\n  },\n  Logo: {\n    display: \"flex\",\n    alignItems: \"center\",\n    \"& img\": {\n      width: \"64px\",\n      height: \"64px\",\n    },\n  },\n  Link: {\n    \"& a\": {\n      color: theme.palette.textSecondary,\n    },\n    \"& a:hover\": {\n      color: theme.palette.text,\n    },\n  },\n  LinkActive: {\n    \"& a\": {\n      color: theme.palette.text,\n    },\n  },\n  Navigation: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    \"& ul\": {\n      display: \"flex\",\n      listStyleType: \"none\",\n    },\n    \"& li\": {\n      margin: \"10px\",\n    },\n    \"& a\": {\n      fontWeight: \"bold\",\n    },\n  },\n}));\n\nconst routes = [\n  { name: \"HOME\", to: \"/\" },\n  { name: \"README\", to: \"/readme\" },\n];\n\nexport default function Header(props) {\n  const classes = useStyles(props);\n  const location = useLocation();\n\n  return (\n    <header className={classes.Header}>\n      <nav className={classes.Navigation}>\n        <Link className={classes.Logo} to=\"/\">\n          <img alt=\"logo\" src={slap} />\n          <h2>SlapSticker</h2>\n        </Link>\n        <ul>\n          {routes.map((route) => (\n            <li\n              key={route.to}\n              className={`${classes.Link} ${\n                location.pathname === route.to ? classes.LinkActive : \"\"\n              }`}\n            >\n              <Link to={route.to}>{route.name}</Link>\n            </li>\n          ))}\n        </ul>\n      </nav>\n      <p>\n        Have you ever said something so dumb, you just wanted to slap yourself?\n        Well now you can!\n      </p>\n    </header>\n  );\n}\n","export default function Readme() {\n  return (\n    <main>\n      <h2>Devtest Readme</h2>\n      <p>\n        Hello candidate, Welcome to our little dev test. The goal of this\n        exercise, is to asses your general skill level, and give us something to\n        talk about at our next appointment.\n      </p>\n      <section>\n        <h3>What this app should do</h3>\n        <p>\n          SlapSticker is an app that lets users to slap stickers on their face,\n          using their webcam. Functionality wise the app works, but the ui needs\n          some love. We'd like for you to extend this prototype to make it look\n          and feel it bit better.\n        </p>\n        <p>These are the basic requirements:</p>\n        <ul>\n          <li>User can pick a sticker</li>\n          <li>User can give the captured image a title</li>\n          <li>User can place the sticker over the webcam image</li>\n          <li>User can capture the webcam image with sticker</li>\n        </ul>\n      </section>\n      <section>\n        <h3>What we want you to do</h3>\n        <p>\n          Off course we didn't expect you to build a full fledged app in such a\n          short time frame. That's why the basic requirements are already\n          implemented.\n        </p>\n        <p>\n          However, we would like for you to show off your strengths as a\n          developer by improving the app.\n        </p>\n        <p>Some ideas (no need to do all):</p>\n        <ul>\n          <li>Make it look really nice</li>\n          <li>Let users pick from multiple (custom) stickers</li>\n          <li>Improve the workflow and ux</li>\n          <li>Show multiple captured images in a gallery</li>\n          <li>Let users download or share the captured pics</li>\n          <li>Add super cool effects to webcam feed</li>\n          <li>Organize, document and test the code</li>\n          <li>Integrate with zoom, teams, meet...</li>\n        </ul>\n      </section>\n      <section>\n        <h3>Quickstart</h3>\n        <ul>\n          <li>You can clone this repo to get started </li>\n          <li>run `$ npm install` to install deps</li>\n          <li>run `$ npm run start` to start dev environment</li>\n          <li>push it to github or gitlab to share it with us. </li>\n        </ul>\n      </section>\n      <section>\n        <p>\n          P.s. We've already added some libraries to make your life easier\n          (Create React App, Jss, React Router), but feel free to add more.\n        </p>\n      </section>\n    </main>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/slap2.6ff1a799.png\";","export default __webpack_public_path__ + \"static/media/slap3.4d2cfb27.png\";","import { useState } from \"react\";\nimport { createUseStyles } from \"react-jss\";\nimport { useWebcamCapture } from \"../useWebcamCapture\";\nimport slap from \"../assets/slap.png\";\nimport slap2 from \"../assets/slap2.png\";\nimport slap3 from \"../assets/slap3.png\";\n\nconst useStyles = createUseStyles((theme) => ({\n  Step: {\n    fontWeight: \"bold\",\n  },\n  Slapper: {\n    \"& canvas\": {\n      background: theme.palette.secondary,\n      width: \"100%\",\n      height: \"auto\",\n      borderRadius: \"5px\",\n    },\n    \"& video\": {\n      display: \"none\",\n    },\n  },\n  Stickers: {\n    \"& img\": {\n      height: \"64px\",\n    },\n    // button + button only adds a gap between the buttons and not around\n    \"& button + button\": {\n      marginLeft: \"5px\",\n    },\n  },\n  StickerButton: {\n    backgroundColor: theme.palette.textSecondary,\n    \"&:hover\": {\n      cursor: \"pointer\",\n    },\n  },\n  StickerButtonActive: {\n    backgroundColor: theme.palette.text,\n  },\n  Gallery: {\n    \"& img\": {\n      height: \"200px\",\n    },\n  },\n  Pictures: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-evenly\",\n  },\n  Picture: {\n    background: \"#050505\",\n    position: \"relative\",\n    borderRadius: \"5px\",\n    overflow: \"hidden\",\n    marginBottom: \"10px\",\n    \"& h3\": {\n      textAlign: \"center\",\n      width: \"100%\",\n    },\n    \"& button\": {\n      width: \"100%\",\n    },\n    \"& button:hover\": {\n      cursor: \"pointer\",\n    },\n  },\n}));\n\nconst stickers = [slap, slap2, slap3].map((url) => {\n  const img = document.createElement(\"img\");\n  img.src = url;\n  return { img, url };\n});\n\n// ref: https://stackoverflow.com/a/15832662/1466456\nfunction downloadURI(uri, name) {\n  const link = document.createElement(\"a\");\n  link.download = name;\n  link.href = uri;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n}\n\nexport default function Home(props) {\n  const classes = useStyles(props);\n  // currently active sticker\n  const [activeSticker, setActiveSticker] = useState(stickers[0]);\n  // title for the picture that will be captured\n  const [title, setTitle] = useState(\"SLAPPE!\");\n\n  // webcam behavior hook\n  const [\n    handleVideoRef, // callback function to set ref for invisible video element\n    handleCanvasRef, // callback function to set ref for main canvas element\n    handleCapture, // callback function to trigger taking the picture\n    pictures, // latest captured pictures data objects\n  ] = useWebcamCapture(activeSticker?.img, title);\n\n  return (\n    <main>\n      <section>\n        <p>\n          <span className={classes.Step}>Step 1:</span> Give it a name\n        </p>\n        <input\n          type=\"text\"\n          value={title}\n          onChange={(ev) => setTitle(ev.target.value)}\n        />\n      </section>\n      <section className={classes.Stickers}>\n        <p>\n          <span className={classes.Step}>Step 2:</span> Select your sticker\n        </p>\n        {stickers.map((sticker) => (\n          <button\n            className={`${classes.StickerButton} ${\n              sticker === activeSticker ? classes.StickerButtonActive : \"\"\n            }`}\n            key={sticker.url}\n            onClick={() => setActiveSticker(sticker)}\n          >\n            <img src={sticker.url} alt=\"sticker\" />\n          </button>\n        ))}\n      </section>\n      <section className={classes.Slapper}>\n        <p>\n          <span className={classes.Step}>Step 3:</span> Slap yourself!\n        </p>\n        <video ref={handleVideoRef} />\n        <canvas\n          ref={handleCanvasRef}\n          width={2}\n          height={2}\n          onClick={handleCapture}\n        />\n      </section>\n      <section className={classes.Gallery}>\n        <p>\n          <span className={classes.Step}>Step 4:</span> Cherish this moment\n          forever\n        </p>\n        <div className={classes.Pictures}>\n          {pictures.map((picture, i) => (\n            <div key={i} className={classes.Picture}>\n              <img src={picture.dataUri} alt=\"slapped sticker\" />\n              <h3>{picture.title}</h3>\n              <button\n                onClick={() =>\n                  downloadURI(picture.dataUri, `${picture.title}.jpg`)\n                }\n              >\n                Download\n              </button>\n            </div>\n          ))}\n        </div>\n      </section>\n    </main>\n  );\n}\n","import { useCallback, useEffect, useRef, useState } from \"react\";\n\nexport const useWebcamCapture = (stickerImg, title) => {\n  const [videoRef, setVideoRef] = useState();\n  const [canvasRef, setCanvasRef] = useState();\n  const [pictures, setPictures] = useState([]);\n\n  const onVideoRef = useCallback((node) => {\n    setVideoRef(node);\n  }, []);\n\n  const onCanvasRef = useCallback((node) => {\n    setCanvasRef(node);\n  }, []);\n\n  const [initialized, setInitialized] = useState(false);\n\n  useEffect(() => {\n    if (videoRef && canvasRef && !initialized) {\n      navigator.mediaDevices\n        .getUserMedia({\n          video: {\n            width: { min: 1024, ideal: 1280, max: 1920 },\n            height: { min: 576, ideal: 720, max: 1080 },\n          },\n          audio: false,\n        })\n        .then(function (stream) {\n          videoRef.srcObject = stream;\n          videoRef.play();\n        })\n        .catch(function (err) {\n          console.log(\"Couldn't start webcam: \" + err);\n        });\n\n      const onCanPlay = function (ev) {\n        const width = videoRef.videoWidth;\n        const height = videoRef.videoHeight / (videoRef.videoWidth / width);\n\n        videoRef.setAttribute(\"width\", width);\n        videoRef.setAttribute(\"height\", height);\n        canvasRef.setAttribute(\"width\", width);\n        canvasRef.setAttribute(\"height\", height);\n        videoRef.removeEventListener(\"canplay\", onCanPlay, false);\n      };\n\n      videoRef.addEventListener(\"canplay\", onCanPlay, false);\n      setInitialized(true);\n    } else if (!videoRef || !canvasRef) {\n      setInitialized(false);\n    }\n  }, [videoRef, canvasRef, initialized]);\n\n  const mousePos = useRef({ x: 0, y: 0 });\n\n  const startRenderLoop = useCallback(() => {\n    if (canvasRef && videoRef) {\n      const renderFrame = () => {\n        const ctx = canvasRef.getContext(\"2d\");\n        const width = canvasRef.getAttribute(\"width\");\n        const height = canvasRef.getAttribute(\"height\");\n        ctx.drawImage(videoRef, 0, 0, width, height);\n\n        if (stickerImg) {\n          const bb = canvasRef.getBoundingClientRect();\n          const x = ((mousePos.current.x - bb.left) / bb.width) * width;\n          const y = ((mousePos.current.y - bb.top) / bb.height) * height;\n          ctx.drawImage(\n            stickerImg,\n            x - width * 0.2,\n            y - width * 0.2,\n            width * 0.4,\n            width * 0.4\n          );\n        }\n        requestAnimationFrame(renderFrame);\n      };\n      requestAnimationFrame(renderFrame);\n    }\n  }, [canvasRef, videoRef, stickerImg]);\n\n  useEffect(() => {\n    startRenderLoop();\n  }, [startRenderLoop]);\n\n  useEffect(() => {\n    if (canvasRef) {\n      const onMouseMove = (ev) => {\n        mousePos.current = { x: ev.clientX, y: ev.clientY };\n      };\n      canvasRef.addEventListener(\"mousemove\", onMouseMove);\n      canvasRef.addEventListener(\"mousedown\", onMouseMove);\n      return () => {\n        canvasRef.removeEventListener(\"mousemove\", onMouseMove);\n        canvasRef.removeEventListener(\"mousedown\", onMouseMove);\n      };\n    }\n  }, [canvasRef]);\n\n  const onCapture = useCallback(\n    (ev) => {\n      if (canvasRef) {\n        const data = canvasRef.toDataURL(\"image/png\");\n        setPictures([...pictures, { dataUri: data, title }]);\n      }\n    },\n    [canvasRef, pictures, title]\n  );\n\n  return [onVideoRef, onCanvasRef, onCapture, pictures];\n};\n","import { createUseStyles } from \"react-jss\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Readme from \"./pages/Readme\";\nimport Home from \"./pages/Home\";\n\nconst useStyles = createUseStyles((theme) => ({\n  \"@global *\": {\n    boxSizing: \"border-box\",\n  },\n  \"@global body\": {\n    background: theme.palette.background,\n    color: theme.palette.text,\n    fontFamily: \"Poppins, sans-serif\",\n    fontSize: \"18px\",\n  },\n  \"@global a\": {\n    color: \"inherit\",\n    textDecoration: \"none\",\n  },\n  App: {\n    padding: \"20px\",\n    background: theme.palette.primary,\n    maxWidth: \"800px\",\n    minHeight: \"100vh\",\n    margin: \"auto\",\n    boxShadow: `10px 0px 5px 5px ${theme.palette.primary}, -10px 0px 5px 5px ${theme.palette.primary}`,\n  },\n}));\n\nfunction App(props) {\n  // css classes from JSS hook\n  const classes = useStyles(props);\n\n  return (\n    <div className={classes.App}>\n      <Header />\n      <hr />\n      <Switch>\n        {/* Main app route */}\n        <Route path=\"/\" exact>\n          <Home />\n        </Route>\n        {/* Readme route */}\n        <Route path=\"/readme\">\n          <Readme />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"normalize.css/normalize.css\";\nimport { ThemeProvider } from \"react-jss\";\n// we use hashrouter because browserrouter did not work on github pages\nimport { HashRouter as Router } from \"react-router-dom\";\n\nimport { theme } from \"./theme\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <ThemeProvider theme={theme}>\n        <App />\n      </ThemeProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);\n","export const theme = {\n  palette: {\n    primary: \"#2f2e2c\",\n    secondary: \"#f8de7e\",\n    background: \"#f8de7e\",\n    text: \"#fff\",\n    textSecondary: \"#ccc\",\n  },\n};\n"],"sourceRoot":""}